@model IEnumerable<DoAnASP.Areas.Admin.Models.PhimModel>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<div class="header-info">
    @foreach (var item in ViewBag.PhimCuoi)
    {
        if (item.IdPhim == 23)
        {
            <h1>@item.TenPhim</h1>
            <p class="special">@item.Mota</p>
            <a class="button play-icon popup-with-zoom-anim book" href="#@item.IdPhim"><i class="fa fa-video"></i>   Watch now</a>
            <a class="book" asp-action="Index" asp-controller="Single" asp-route-id="@item.IdPhim"><i class="book1"></i>BOOK TICKET</a>
            <div id="@item.IdPhim" class="mfp-hide">
                <iframe src="@item.LinkPhim" frameborder="0" allowfullscreen></iframe>
            </div>
        }
    }

</div>
       </div>
<div class="review-slider">

    <ul id="flexiselDemo1">
        @{
            int i = 0;
            @foreach (var item in Model)
            {


                @if (i <= 6)
                {
                    <li><a asp-controller="Single" asp-action="Index" asp-route-id="@item.IdPhim">content<img src="~/ImageAdmin/ImgPhim/@Html.DisplayFor(modelItem => item.HinhAnh)" title="@Html.DisplayFor(modelItem => item.TenPhim)" style="width:221px; height:124px;" /> </a></li>
                }
                i++;
            }
        }
    </ul>

    <script type="text/javascript">
        $(window).load(function () {

            $("#flexiselDemo1").flexisel({
                visibleItems: 6,
                animationSpeed: 1000,
                autoPlay: true,
                autoPlaySpeed: 3000,
                pauseOnHover: false,
                enableResponsiveBreakpoints: true,
                responsiveBreakpoints: {
                    portrait: {
                        changePoint: 480,
                        visibleItems: 2
                    },
                    landscape: {
                        changePoint: 640,
                        visibleItems: 3
                    },
                    tablet: {
                        changePoint: 768,
                        visibleItems: 4
                    }
                }
            });
        });
    </script>
    <script type="text/javascript" src="~/template//js/jquery.flexisel.js"></script>
</div>
<div class="video">
    <iframe width="853" height="480" src="https://www.youtube.com/embed/FsvD9Njmb1o" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<div class="news">
    <div class="col-md-6 news-left-grid">
        <h3>Don’t be late,</h3>
        <h2>Book your ticket now!</h2>
        <h4>Easy, simple & fast.</h4>
        <a asp-controller="Single" asp-action="Index" asp-route-id="9"><i class="book"></i>BOOK TICKET</a>
    </div>
    <div class="col-md-6 news-right-grid">
        <h3>Descriptions</h3>
        <div class="news-grid">
            <p>
                Mỗi dịp Giáng sinh về, người hâm mộ sẽ truyền tai nhau về bộ phim Home Alone. Hình tượng nhân vật được khắc họa rõ nét. Bộ phim sẽ là lựa chọn cho nhiều gia đình muốn cùng nhau xem trong đêm giáng sinh hoặc những ngày cuối tuần đầy thư giãn. Ở nhà một mình (Home Alone) phát hành vào năm 1990
                , thời lượng 103 phút (đạt 581,1 triệu USD doanh thu)
            </p>
        </div>
    </div>
    <div class="clearfix"></div>
</div>
<div class="more-reviews" style="background-color: #dfb636">
    <ul id="flexiselDemo2">
        @{
            int a = 0;
            @foreach (var item in Model)
            {

                @if (a > 6)
                {
                    <li title="@item.TenPhim"><a asp-controller="Single" asp-action="Index" asp-route-id="@item.IdPhim"><img src="~/ImageAdmin/ImgPhim/@Html.DisplayFor(modelItem => item.HinhAnh)" alt="" style="width: 221px; height: 124px;" /></a></li>
                }
                a++;
            }
        }
    </ul>
</div>
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4>Thông Báo</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>

            </div>
            <div class="modal-body">
                <p>Login Thành Công</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>
<div id="mymodal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-sm">
        <!-- Modal content-->
        <div class="modal-content" style="background-color:#dd6b69;">
            <div class="modal-header">
                <h4 class="modal-title">Thông Báo</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="ProductDescription"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>
<script src="~/lib/signalr/dist/browser/signalr.min.js"></script>

@section Scripts{

    <script>
        let i = 0;
        if (i == 0) {
            $(document).ready(function () {
                $('#myModal').modal('show');
            });
        }
        i++;
    </script>
    <script>
        $(document).ready(function () {
            $('.popup-with-zoom-anim').magnificPopup({
                type: 'inline',
                fixedContentPos: false,
                fixedBgPos: true,
                overflowY: 'auto',
                closeBtnInside: true,
                preloader: false,
                midClick: true,
                removalDelay: 300,
                mainClass: 'my-mfp-zoom-in'
            });
        });

    </script>
    <script type="text/javascript">
        $(window).load(function () {

            $("#flexiselDemo2").flexisel({
                visibleItems: 4,
                animationSpeed: 1000,
                autoPlay: true,
                autoPlaySpeed: 3000,
                pauseOnHover: false,
                enableResponsiveBreakpoints: true,
                responsiveBreakpoints: {
                    portrait: {
                        changePoint: 480,
                        visibleItems: 2
                    },
                    landscape: {
                        changePoint: 640,
                        visibleItems: 3
                    },
                    tablet: {
                        changePoint: 768,
                        visibleItems: 3
                    }
                }
            });
        });
    </script>
    <script type="text/javascript" src="~/template//js/jquery.flexisel.js"></script>
    <script>
        var connection = new signalR.HubConnectionBuilder().withUrl("/Notifications").build();
        connection.start().then(function () {

        }).catch(function (err) {
            return console.error.toString();
        });
        connection.on("ClientSideFunction", function (message) {
            $('#ProductDescription').text(message);
            $('#mymodal').modal('show');
        });
    </script>

}

